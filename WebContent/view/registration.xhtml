<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				template="template.xhtml">

	<ui:define name="content">
		<p:panel header="Registration">
			<h:form id="registrationForm">
				<h:panelGrid columns="3">
	    			<p:outputLabel for="firstname">First name:</p:outputLabel>
	    			<p:inputText id="firstname" value="#{userSubmissionModelBean.surname}" required="true" 
	    			requiredMessage="First name is required." size="30" maxlength="30" >
	    				<f:validator validatorId="validators.username"></f:validator>
	    			</p:inputText>
		        	<p:message showDetail="true" for="firstname" errorClass="error" />
		        		
		        	<p:outputLabel for="lastname">Last name:</p:outputLabel>
	    			<p:inputText id="lastname" value="#{userSubmissionModelBean.lastname}" required="true" 
	    			requiredMessage="Last name is required." size="30" maxlength="30" >
	    				<f:validator validatorId="validators.username"></f:validator>
	    			</p:inputText>
		        	<p:message showDetail="true" for="lastname" errorClass="error" />
		        		
		        	<p:outputLabel for="age">Age:</p:outputLabel>
	    			<p:inputText id="age" value="#{userSubmissionModelBean.age}" required="true" 
	    			requiredMessage="Age is required." size="30" maxlength="30" 
	    			validatorMessage="Age validation failed please re-enter an age inferior to 100.">
	    				<f:validateLongRange minimum="0" maximum="100" />
	    			</p:inputText>
		        	<p:message showDetail="true" for="age" errorClass="error" />
		        	
		        	<p:outputLabel for="mail">Email address:</p:outputLabel>
	    			<p:inputText id="mail" value="#{userSubmissionModelBean.mail}" required="true" 
	    			requiredMessage="Mail is required." size="30" maxlength="30" >
	    				<f:validator validatorId="validators.mail"></f:validator>
	    			</p:inputText>
		        	<p:message showDetail="true" for="mail" errorClass="error" />
		        		
		        	<p:outputLabel for="login">Login:</p:outputLabel>
	    			<p:inputText id="login" value="#{userSubmissionModelBean.login}" required="true" 
	    			requiredMessage="Login is required." size="30" maxlength="30" >
	    				<f:validator validatorId="validators.login"></f:validator>
	    			</p:inputText>
		        	<p:message showDetail="true" for="login" errorClass="error" />
		        		
		        	<p:outputLabel for="pwd">Password:</p:outputLabel>
	    			<p:password id="pwd" value="#{userSubmissionModelBean.pwd}" required="true" 
	    			requiredMessage="Password is required." size="30" maxlength="30" autocomplete="off">
	    				<f:validator validatorId="validators.password"></f:validator>
	    				<f:attribute name="confirm" value="#{confirm}" />
	    			</p:password>
		        	<p:message showDetail="true" for="pwd" errorClass="error" />
		        		
		        	<p:outputLabel for="confirm">Re-enter password:</p:outputLabel>
	    			<p:password id="confirm" binding="#{confirm}" required="true" 
	    			requiredMessage="Password confirmation is required." size="30" maxlength="30" />
		        	<p:message showDetail="true" for="confirm" errorClass="error" />

					<p:commandButton value="Inscription" action="#{userControl.registerUser(userSubmissionModelBean)}" 
					ajax="false" icon="ui-icon-check" validateClient="true" />
	       		</h:panelGrid>
  			</h:form>
		</p:panel>
	</ui:define>
</ui:composition>